/* 卡片动画样式 - 量子玫瑰主题 */

:root {
  /* 动画变量 */
  --animation-entrance-duration: 300ms;
  --animation-hover-duration: 200ms;
  --animation-hover-distance: -4px;
  --animation-stagger-delay: 50ms;
  
  /* 缓动函数 */
  --animation-ease: ease;
  --animation-ease-out: ease-out;
  --animation-ease-in-out: ease-in-out;
  
  /* 性能优化 */
  --animation-will-change: transform, opacity;
}

/* 卡片动画基础样式 */
.animated-card {
  will-change: var(--animation-will-change);
  transform: translateZ(0); /* 启用硬件加速 */
  backface-visibility: hidden;
  perspective: 1000px;
}

/* 入场动画样式 */
.animated-card-entrance {
  opacity: 0;
  transform: translateY(20px);
}

.animated-card-entrance-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity var(--animation-entrance-duration) var(--animation-ease),
              transform var(--animation-entrance-duration) var(--animation-ease);
}

/* 悬停动画样式 */
.animated-card-hover {
  transition: transform var(--animation-hover-duration) var(--animation-ease);
}

.animated-card-hover:hover {
  transform: translateY(var(--animation-hover-distance));
}

/* 多卡片延迟动画 */
.animated-card-stagger-0 { transition-delay: calc(var(--animation-stagger-delay) * 0); }
.animated-card-stagger-1 { transition-delay: calc(var(--animation-stagger-delay) * 1); }
.animated-card-stagger-2 { transition-delay: calc(var(--animation-stagger-delay) * 2); }
.animated-card-stagger-3 { transition-delay: calc(var(--animation-stagger-delay) * 3); }
.animated-card-stagger-4 { transition-delay: calc(var(--animation-stagger-delay) * 4); }
.animated-card-stagger-5 { transition-delay: calc(var(--animation-stagger-delay) * 5); }

/* 量子玫瑰主题适配 */
.animated-card.quantum-rose {
  --quantum-rose-animation-primary: var(--quantum-rose-primary);
  --quantum-rose-animation-secondary: var(--quantum-rose-secondary);
  --quantum-rose-animation-shadow: var(--quantum-rose-shadow);
}

/* 响应式动画配置 */
@media (prefers-reduced-motion: reduce) {
  .animated-card {
    transition: none !important;
    animation: none !important;
  }
  
  .animated-card-entrance {
    opacity: 1;
    transform: none;
  }
  
  .animated-card-hover:hover {
    transform: none;
  }
}

/* 移动端适配 */
@media (max-width: 768px) {
  :root {
    --animation-entrance-duration: 200ms;
    --animation-hover-distance: -2px;
    --animation-stagger-delay: 30ms;
  }
}

/* 暗色模式适配 */
@media (prefers-color-scheme: dark) {
  .animated-card {
    --animation-shadow-opacity: 0.3;
  }
}

/* 动画状态指示器 */
.animated-card[data-animation-state="entering"] {
  outline: 2px solid var(--quantum-rose-primary, #3b82f6);
  outline-offset: 2px;
}

.animated-card[data-animation-state="entered"] {
  outline: none;
}

.animated-card[data-animation-state="error"] {
  outline: 2px solid #ef4444;
  outline-offset: 2px;
}

/* 性能监控样式 */
.animated-card-performance-low {
  filter: grayscale(0.2);
}

.animated-card-performance-critical {
  animation: none !important;
  transition: none !important;
}

/* 错误状态样式 */
.animated-card-error {
  border-color: #ef4444;
  background-color: rgba(239, 68, 68, 0.1);
}

/* 禁用状态 */
.animated-card-disabled {
  animation: none !important;
  transition: none !important;
  opacity: 0.6;
}

/* 调试模式 */
.animated-card-debug {
  position: relative;
}

.animated-card-debug::after {
  content: attr(data-animation-debug);
  position: absolute;
  top: -20px;
  left: 0;
  font-size: 10px;
  color: #666;
  background: rgba(255, 255, 255, 0.9);
  padding: 2px 4px;
  border-radius: 2px;
  z-index: 1000;
  pointer-events: none;
}

/* 无障碍访问 */
.animated-card:focus-visible {
  outline: 2px solid var(--quantum-rose-primary, #3b82f6);
  outline-offset: 2px;
}

/* 打印样式 */
@media print {
  .animated-card {
    transition: none !important;
    animation: none !important;
    transform: none !important;
  }
}