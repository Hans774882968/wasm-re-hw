import{r,j as e,m as d,d as t,k as c,l as m,t as w}from"./main-d0iSGHsx.js";import{_ as k,g as E,h as D}from"./rust_wasm-DLjsnXOY.js";import{g as S}from"./utils-B-I5YrXb.js";const u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}};function B(){const[a,x]=r.useState(""),[i,p]=r.useState(""),[n,b]=r.useState(""),[l,h]=r.useState(""),[o,g]=r.useState(!1),f=!a.trim()||!o,j=!n.trim()||!o;(async()=>o||(await k(),g(!0)))();const y=()=>{if(!a.trim())return;const s=E(a);p(s)},v=()=>{if(n.trim())try{const s=D(n);h(s)}catch(s){console.error("解密时出错",s);const N=S(s);w.error(N)}};return e.jsx("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Rust WASM 异或加密"}),e.jsx("p",{className:"text-muted-foreground",children:"使用 Rust 编译的 WASM 模块实现简单的异或加密算法"})]}),e.jsxs(d.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.2}}},children:[e.jsxs(d.div,{className:t("bg-card rounded-xl shadow-lg p-6 border border-border","transition-shadow duration-200 hover:shadow-xl"),variants:u,children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold mb-4",children:[e.jsx(c,{}),"加密"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"用户名"}),e.jsx("input",{className:t("w-full px-3 py-2 rounded-md bg-input text-foreground","border border-border focus:outline-none focus:ring-2 focus:ring-ring"),value:a,onChange:s=>x(s.target.value),placeholder:"请输入"})]}),e.jsxs("button",{onClick:y,disabled:f,className:t("w-full flex items-center justify-center gap-2","bg-primary text-primary-foreground py-2 px-4 rounded-md","transition-colors duration-300","disabled:opacity-50 disabled:pointer-events-none","hover:bg-primary/90"),children:[e.jsx(c,{})," 加密"]}),i&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"密文（Base64）"}),e.jsx("div",{className:t("bg-muted px-3 py-2 rounded-md break-all","text-foreground font-mono text-sm"),children:i})]})]})]}),e.jsxs(d.div,{className:t("bg-card rounded-xl shadow-lg p-6 border border-border","transition-shadow duration-200 hover:shadow-xl"),variants:u,children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold mb-4",children:[e.jsx(m,{}),"解密"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"密文（Base64）"}),e.jsx("input",{className:t("w-full px-3 py-2 rounded-md bg-input text-foreground","border border-border focus:outline-none focus:ring-2 focus:ring-ring"),value:n,onChange:s=>b(s.target.value),placeholder:"请输入 Base64 密文"})]}),e.jsxs("button",{onClick:v,disabled:j,className:t("w-full flex items-center justify-center gap-2","bg-primary text-primary-foreground py-2 px-4 rounded-md","transition-colors duration-300","disabled:opacity-50 disabled:pointer-events-none","hover:bg-primary/90"),children:[e.jsx(m,{})," 解密"]}),l&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"明文"}),e.jsx("div",{className:t("bg-muted px-3 py-2 rounded-md break-all","text-foreground font-mono text-sm"),children:l})]})]})]})]})]})})}export{B as default};
