import{r as a,j as e,n as q,B as j,d as L,o as H,t as x,m as Q,p as G,k as J,q as y,s as K,v as g}from"./main--65lMR06.js";import{C as P,a as _,b as A,c as R,d as W,L as i,T as o,W as C,e as S,w as k,p as B}from"./WRAudio-f-HJCqlp.js";import{_ as V,e as E,c as O,d as X,f as Y}from"./rust_wasm-DLjsnXOY.js";async function Z(c){if(!c||c.length!==64)return!1;try{const t="çˆ±æ‹¼æ‰ä¼šèµ¢ğŸ’ª",d=E(t),n=O(t,c);return d===n}catch(t){return console.error("éªŒè¯ Base64 ç è¡¨æ—¶å‡ºé”™",t),!1}}function $({onCorrectAnswer:c}){const[t,d]=a.useState(!1),[n,m]=a.useState(""),[l,b]=a.useState(!1),[u,w]=a.useState(!1),f=a.useRef(null),N=a.useRef(null);a.useEffect(()=>{async function r(){if(!t)try{await V(),d(!0)}catch(h){console.error("WASM åˆå§‹åŒ–å¤±è´¥",h),x.error("WASM åˆå§‹åŒ–å¤±è´¥",{description:h.toString()})}}r()},[t]);const p=async()=>{b(!0);try{await Z(n.trim())?(B(f,S),w(!0),x.success("æ­å–œä½ ï¼ç­”æ¡ˆæ­£ç¡®ï¼",{description:"ä½ æˆåŠŸé€†å‘å‡ºäº†é»˜è®¤ Base64 ç è¡¨ï¼"}),c&&c(),setTimeout(()=>w(!1),3e3)):(B(N,k),x.error("ç­”æ¡ˆé”™è¯¯",{description:"è¯·å†æ¥å†å‰qwq"}))}catch(r){console.error("éªŒè¯è¿‡ç¨‹ä¸­å‡ºé”™",r),x.error(`éªŒè¯è¿‡ç¨‹ä¸­å‡ºé”™ï¼š${r}`)}finally{b(!1)}};return e.jsxs("div",{children:[u&&e.jsx(P,{}),e.jsxs(_,{className:"w-full",children:[e.jsxs(A,{children:[e.jsxs(R,{className:"flex items-center gap-2 text-xl",children:[e.jsx(q,{}),"é€†å‘æŒ‘æˆ˜"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"é€šè¿‡å‰ç«¯é€†å‘ï¼Œæ‰¾å‡ºã€Šå›ºå®šç è¡¨ï¼ˆé¢„è®¾ï¼‰ã€‹æ‰€ä½¿ç”¨çš„ç è¡¨ã€‚"})]}),e.jsx(W,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"base64-alphabet",children:"Base64 ç è¡¨"}),e.jsx(o,{id:"base64-alphabet",value:n,onChange:r=>m(r.target.value),placeholder:"è¯·è¾“å…¥ 64 ä¸ªå­—ç¬¦çš„ç è¡¨ï¼Œä¾‹å¦‚ ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",className:"font-mono min-h-[100px]",disabled:l})]}),e.jsx(j,{onClick:p,disabled:l||!n.trim(),className:L("w-full flex gap-2",l&&"opacity-50 cursor-not-allowed"),children:l?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"animate-spin w-4 h-4"}),"éªŒè¯ä¸­..."]}):"æäº¤"})]})})]}),e.jsx(C,{ref:f,src:S}),e.jsx(C,{ref:N,src:k})]})}function F({title:c,description:t,encodeFn:d,decodeFn:n,hasAlphabet:m=!1}){const[l,b]=a.useState(""),[u,w]=a.useState(""),[f,N]=a.useState("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),[p,r]=a.useState(""),[h,D]=a.useState(""),[v,M]=a.useState("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),I=()=>{try{const s=m?d(l,f):d(l);w(s)}catch(s){x.error("ç¼–ç å¤±è´¥",{description:s.toString()})}},T=()=>{try{const s=m?n(p,v):n(p);D(s)}catch(s){x.error("è§£ç å¤±è´¥",{description:s.toString()})}},U=()=>{g(u)},z=()=>{g(h)};return e.jsxs(_,{className:"w-full",children:[e.jsxs(A,{children:[e.jsxs(R,{className:"flex items-center gap-2 text-xl",children:[e.jsx(G,{className:"w-6 h-6"}),c]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),e.jsx(W,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"åŸå§‹å­—ç¬¦ä¸²"}),e.jsx(o,{value:l,onChange:s=>b(s.target.value),placeholder:"è¯·è¾“å…¥è¦ç¼–ç çš„åŸå§‹å­—ç¬¦ä¸²",className:"font-mono min-h-[100px] whitespace-pre-wrap break-all"})]}),m&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Base64 ç è¡¨ï¼ˆç¼–ç ç”¨ï¼‰"}),e.jsx(o,{value:f,onChange:s=>N(s.target.value),placeholder:"64 ä¸ªå­—ç¬¦çš„è‡ªå®šä¹‰ç è¡¨",className:"font-mono min-h-[80px] whitespace-pre-wrap break-all"})]}),e.jsxs(j,{size:"sm",disabled:!l.trim(),onClick:I,className:"w-full flex gap-1",children:[e.jsx(J,{className:"w-4 h-4"}),"ç¼–ç "]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(i,{children:"ç¼–ç ç»“æœ"}),e.jsx(j,{variant:"ghost",size:"sm",onClick:U,disabled:!u.trim(),className:"h-7 px-2",children:e.jsx(y,{className:"w-3.5 h-3.5"})})]}),e.jsx(o,{value:u,placeholder:"ç¼–ç ç»“æœå°†æ˜¾ç¤ºåœ¨æ­¤",className:"font-mono min-h-[100px] whitespace-pre-wrap break-all",readOnly:!0})]})]}),e.jsx("div",{className:"w-full h-px md:h-auto md:w-px bg-border my-2 md:my-0 md:mx-3","aria-hidden":"true"}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"ç¼–ç å­—ç¬¦ä¸²"}),e.jsx(o,{value:p,onChange:s=>r(s.target.value),placeholder:"è¯·è¾“å…¥è¦è§£ç çš„ Base64 å­—ç¬¦ä¸²",className:"font-mono min-h-[100px] whitespace-pre-wrap break-all"})]}),m&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Base64 ç è¡¨ï¼ˆè§£ç ç”¨ï¼‰"}),e.jsx(o,{value:v,onChange:s=>M(s.target.value),placeholder:"64 ä¸ªå­—ç¬¦çš„è‡ªå®šä¹‰ç è¡¨",className:"font-mono min-h-[80px] whitespace-pre-wrap break-all"})]}),e.jsxs(j,{size:"sm",disabled:!p.trim(),onClick:T,className:"w-full flex gap-1",children:[e.jsx(K,{className:"w-4 h-4"}),"è§£ç "]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(i,{children:"è§£ç ç»“æœ"}),e.jsx(j,{variant:"ghost",size:"sm",onClick:z,disabled:!h.trim(),className:"h-7 px-2",children:e.jsx(y,{className:"w-3.5 h-3.5"})})]}),e.jsx(o,{value:h,placeholder:"è§£ç ç»“æœå°†æ˜¾ç¤ºåœ¨æ­¤",className:"font-mono min-h-[100px] whitespace-pre-wrap break-all",readOnly:!0})]})]})]})})]})}function te(){return e.jsxs(Q.div,{className:"max-w-6xl mx-auto p-4 md:p-8 space-y-4 md:space-y-8",initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.2}}},children:[e.jsx(F,{title:"å›ºå®šç è¡¨ï¼ˆé¢„è®¾ï¼‰",description:"ä½¿ç”¨ Rust WASM æ¨¡å—å†…ç½®çš„è‡ªå®šä¹‰ Base64 ç è¡¨è¿›è¡Œç¼–è§£ç ",encodeFn:E,decodeFn:X,hasAlphabet:!1}),e.jsx(F,{title:"åŠ¨æ€ç è¡¨ï¼ˆè¿è¡Œæ—¶æŒ‡å®šï¼‰",description:"åœ¨è¿è¡Œæ—¶ä¼ å…¥ä»»æ„ 64 å­—ç¬¦ Base64 ç è¡¨è¿›è¡Œç¼–è§£ç ",encodeFn:O,decodeFn:Y,hasAlphabet:!0}),e.jsx($,{})]})}export{te as default};
