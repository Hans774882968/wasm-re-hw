import{r as t,j as e,m as d,d as r,k as f,l as p,t as g}from"./main-d0iSGHsx.js";import{_ as D,a as I,b as K}from"./rust_wasm-DLjsnXOY.js";import{t as a}from"./utils-B-I5YrXb.js";const h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}};function V(){const[i,j]=t.useState(!1),[n,v]=t.useState(""),[l,y]=t.useState("0123456789abcdef"),[c,N]=t.useState("abcdef9876543210"),[u,k]=t.useState(""),[o,w]=t.useState(""),[m,C]=t.useState("0123456789abcdef"),[x,S]=t.useState("abcdef9876543210"),[b,E]=t.useState("");t.useEffect(()=>{D().then(()=>j(!0))},[]);const _=()=>{if(n.trim())try{const s=I(n,a(l),a(c));k(s)}catch(s){console.error("加密出错",s),g.error(`加密出错：${s}`)}},B=()=>{if(o.trim())try{const s=K(o,a(m),a(x));E(s)}catch(s){console.error("解密出错",s),g.error(`解密出错：${s}`)}};return e.jsx("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Rust AES-CBC 加密"}),e.jsx("p",{className:"text-muted-foreground",children:"使用 Rust 编译的 WASM 模块实现 AES-CBC 加密算法"})]}),e.jsxs(d.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.2}}},children:[e.jsxs(d.div,{className:r("bg-card rounded-xl shadow-lg p-6 border border-border","transition-shadow duration-200 hover:shadow-xl"),variants:h,children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold mb-4",children:[e.jsx(f,{}),"加密"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"明文"}),e.jsx("input",{className:r("w-full px-3 py-2 rounded-md bg-input text-foreground","border border-border focus:outline-none focus:ring-2 focus:ring-ring"),value:n,onChange:s=>v(s.target.value),placeholder:"请输入"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Key（16 字节）"}),e.jsx("input",{className:r("w-full px-3 py-2 rounded-md bg-input text-foreground font-mono","border border-border focus:outline-none focus:ring-2 focus:ring-ring"),value:l,onChange:s=>y(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"IV（16 字节）"}),e.jsx("input",{className:r("w-full px-3 py-2 rounded-md bg-input text-foreground font-mono","border border-border focus:outline-none focus:ring-2 focus:ring-ring"),value:c,onChange:s=>N(s.target.value)})]}),e.jsxs("button",{onClick:_,disabled:!i||!n.trim(),className:r("w-full flex items-center justify-center gap-2","bg-primary text-primary-foreground py-2 px-4 rounded-md","transition-colors duration-300","disabled:opacity-50 disabled:pointer-events-none","hover:bg-primary/90"),children:[e.jsx(f,{})," 加密"]}),u&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"密文（Base64）"}),e.jsx("div",{className:r("bg-muted px-3 py-2 rounded-md break-all","text-foreground font-mono text-sm"),children:u})]})]})]}),e.jsxs(d.div,{className:r("bg-card rounded-xl shadow-lg p-6 border border-border","transition-shadow duration-200 hover:shadow-xl"),variants:h,children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold mb-4",children:[e.jsx(p,{}),"解密"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"密文（Base64）"}),e.jsx("input",{className:r("w-full px-3 py-2 rounded-md bg-input text-foreground","border border-border focus:outline-none focus:ring-2 focus:ring-ring"),value:o,onChange:s=>w(s.target.value),placeholder:"请输入 Base64 密文"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Key（16 字节）"}),e.jsx("input",{className:r("w-full px-3 py-2 rounded-md bg-input text-foreground font-mono","border border-border focus:outline-none focus:ring-2 focus:ring-ring"),value:m,onChange:s=>C(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"IV（16 字节）"}),e.jsx("input",{className:r("w-full px-3 py-2 rounded-md bg-input text-foreground font-mono","border border-border focus:outline-none focus:ring-2 focus:ring-ring"),value:x,onChange:s=>S(s.target.value)})]}),e.jsxs("button",{onClick:B,disabled:!i||!o.trim(),className:r("w-full flex items-center justify-center gap-2","bg-primary text-primary-foreground py-2 px-4 rounded-md","transition-colors duration-300","disabled:opacity-50 disabled:pointer-events-none","hover:bg-primary/90"),children:[e.jsx(p,{})," 解密"]}),b&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"明文"}),e.jsx("div",{className:r("bg-muted px-3 py-2 rounded-md break-all","text-foreground font-mono text-sm"),children:b})]})]})]})]})]})})}export{V as default};
